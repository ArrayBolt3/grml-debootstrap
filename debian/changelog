grml-debootstrap (0.29) UNRELEASED; urgency=low

  The "thanks to gebi for the bugreports and feedback" release. :)
  * Install busybox in kernel stage to be able to debug initramfs
    problems.
  * Check whether we are installing into a directory in stage mkfs
    so we don't skip if the target is already mounted.
  * Mention "default: lenny" instead of "default: stable" in help
    text as "stable" is invalid.
  * Use 'pri=0' as example for swap partition in /etc/fstab.
  * Do not adjust mydestination and myhostname in /etc/postfix/main.cf as
    mydestination defaults to "$myhostname, localhost.$mydomain, localhost",
    myhostname defaults to gethostname() and mydomain to localdomain.
  * Slightly improve wording of -t and -p options.
  * Do not try to create /etc/debootstrap if it already exists (which
    might be the case when installing to a directory).
  * Mention hostname in configuration check dialog.
  * Apply patch by Zoran Dzelajlija which addresses the partition
    calculation problem when installing to /dev/cciss/c0d0*. Thanks!
  * Use ls for locating /dev/md* devices instead of echo so we don't
    have '/dev/md*' in the interactive partition dialog.
  * Do not display mountpoint if we are using the default one.
  * Avoid duplicate 'Running ... on a directory, nothing to mount.'
    message.
  * Do not continue execution if provided mirror doesn't work.
    [Closes: issue711]

 -- Michael Prokop <mika@grml.org>  Fri, 24 Jul 2009 09:44:58 +0200

grml-debootstrap (0.28) unstable; urgency=low

  * Work around the chpasswd problem. [Closes: issue692]
    Thanks to Ulrich Dangel <uli@spamt.net> for the patch!

 -- Michael Prokop <mika@grml.org>  Tue, 16 Jun 2009 16:11:30 +0200

grml-debootstrap (0.27) unstable; urgency=low

  * New features:
    - support setting Debian suite components (like main, contrib,...)
      through COMPONENTS so it's possible to use a simple 'main' mirror.
    - support setting aptitude/apt-get options through $DPKG_OPTIONS.
    - support selection of netinstall vs. local mirror in interactive menu
  * Bugfixes:
    - make sure to ignore /dev/md* devices if not using SW-RAID
    - do not fail in chrootmirror() when using $ISO variable.
    - change order of checkconfiguration() so we get the prompt/
      display for checking configuration again.
    - Drop 'do not prompt for partition dialog if swraid has been
      configured already' which doesn't make any sense in most situations
  * Minor changes:
    - check for mounted target in mkfs() step already instead of mount_target()
    - use '.. to the debootstrap command' in description of --debopt
    - chroot-script: put installation of kernel before installing additional
      packages so installation of kernel doesn't fail if the kernel directory
      exists already
  * Debian Package:
    - bump Standard Version to 3.8.1 (no further changes).

 -- Michael Prokop <mika@grml.org>  Fri, 08 May 2009 17:57:57 +0200

grml-debootstrap (0.26) unstable; urgency=low

  * Do not use UUID on SW-RAID.
  * Add /dev/md* to partition list. If /dev/md* is already
    configured we don't want to re-run the SW-RAID setup
    but instead just install on /dev/md*.

 -- Michael Prokop <mika@grml.org>  Tue, 17 Mar 2009 10:47:53 +0100

grml-debootstrap (0.25) unstable; urgency=low

  * Use configuration $RELEASE as well as default in interactive
    setup script.
  * Provide $MNTPOINT as environment variable for usage inside
    /etc/debootstrap/scripts/.

 -- Michael Prokop <mika@grml.org>  Sat, 07 Mar 2009 14:37:46 +0100

grml-debootstrap (0.24) unstable; urgency=low

  * Update documentation.
  * Use configuration of $MIRROR, $HOSTNAME as defaults in
    interactive setup script.
  * Add initial support for Debian/squeeze and drop sarge instead.
  * Update VCS*-headers and long description of Debian package.
  * Move asciidoc, docbook-xsl, xsltproc to Build-Depends-Indep.
  * Drop $CHROOTMIRROR variable, instead use $MIRROR for debootstrap
    as well as inside the chroot.
  * Provide $MNTPOINT as environment variable for usage inside
    /etc/debootstrap/scripts/.

 -- Michael Prokop <mika@grml.org>  Sat, 07 Mar 2009 14:15:32 +0100

grml-debootstrap (0.23) unstable; urgency=low

  The "hey, rocking - we get patches via git" release.

  * Improve look'n'feel of partition error dialog.
  * Improve documentation regarding installation of bootloader when
    using directories as installation target. Thanks Tong Sun!
    [Closes: issue539]
  * Copy /etc/debootstrap/[s]bin as well to the chroot if they are
    present. Suggestion by Tong Sun - thanks! [Closes: issue540]
  * Apply several patches by Tong Sun (thanks!):
    - allow symlinks when coping existing files to chroot.
    - pre-seed packages using /etc/debootstrap/debconf-selections
      [Closes: issue518]
    - support DEBOOTSTRAP_OPT for passing extra parameters to the
      debootstrap command
    - support KEEP_SRC_LIST to allow user to provide their
      own apt sources.list from /etc/debootstrap/etc/apt/sources.list
    - provide cmdline processing in separate script
    - added the '-d, --confdir=path' option
    - added "--nodebootstrap": Skip debootstrap, only do configuration
      to the target
    - add -v, --verbose: Increase verbosity
    - do not create stage file at finalize()
  * Edit /etc/network/interfaces as well if the file exists already,
    we definitely need at least a loopback interface.
  * Adjust postfix configuration:
    - modify hostname related options in /etc/postfix/main.cf
    - listen on loopback interface by default (thanks for suggestion, gebi)
  * Unify the --bootappend option, it's not --boot_append (thanks for
    the hint, Tong Sun).
  * Support execution of further scripts via options --scripts and
    --chroot-scripts.
  * Drop locales from RECONFIGURE list (thanks for hint, Tong Sun).
    [Closes: issue560]

 -- Michael Prokop <mika@grml.org>  Mon, 24 Nov 2008 23:29:30 +0100

grml-debootstrap (0.22) unstable; urgency=low

  * Display meaningful information when no partitions could be found.

 -- Michael Prokop <mika@grml.org>  Mon, 15 Sep 2008 19:46:20 +0200

grml-debootstrap (0.21) unstable; urgency=low

  * Make sure it works on target directories also if they are
    *not* mounted separately. Thanks for reporting, Tong.

 -- Michael Prokop <mika@grml.org>  Tue, 02 Sep 2008 23:19:05 +0200

grml-debootstrap (0.20) unstable; urgency=low

  * Use root=UUID=... by default if possible to avoid possible
    race conditions with libata vs. pata.
  * Fix setting hostname via interface.
  * Provide interface in dialog for setting root password.

 -- Michael Prokop <mika@grml.org>  Tue, 02 Sep 2008 14:02:43 +0200

grml-debootstrap (0.19) unstable; urgency=low

  * Use dialog with --separate-output option to make sure mdadm
    receives correct quoting for the RAID devices.

 -- Michael Prokop <mika@grml.org>  Tue, 02 Sep 2008 13:36:12 +0200

grml-debootstrap (0.18) unstable; urgency=low

  The "development sponsored by Sipwise GmbH" release.

  * Provide interactive configuration dialog.
  * Initial support for SW-RAID.
  * Use stages based on target information, this gives us
    the possibility to run multiple instance of grml-debootstrap.
    [Closes: issue510]
  * Use policy-rc.d inside chroot to avoid startup of daemons.
    [Closes: issue509]
  * Do not activate /sys by default anymore in /etc/fstab.
  * Copy /etc/network/interfaces from running system to target
    installation.
  * Setting password via passwd does not work, use chpaswd instead.
  * Remove stages after successful execution. [Closes: issue513]
  * Make sure the configuration file inside the chroot provides
    the same configuration as specified on the cmdline (thanks gebi
    for reporting).
  * Copy system's /etc/hosts to the target system.
  * Move stages to /var/cache/grml-debootstrap (thanks for the idea,
    gebi).
  * Install devices using our own device tarball instead of running
    MAKEDEV (which is just an ungly fork bomb).
  * Install MTA postfix by default to avoid installation of unwanted
    packages like citadel in lenny.
  * Allow use of comments in file /etc/debootstrap/packages.
  * Replace initrd-tools with initramfs-tools.
  * Run aptitude with --without-recommends option.
  * Run grub-install using --no-floppy, as requested by gebi.
  * Support setting hostname via cmdline.
  * Close issue in grml's BTS which showed up during development in hg:
    Fix handling of config file inside chroot, thanks for spotting, gebi!
    [Closes: issue512]
  * Update debian/ to make lintian happy.

 -- Michael Prokop <mika@grml.org>  Sat, 30 Aug 2008 02:01:14 +0200

grml-debootstrap (0.17) unstable; urgency=low

  * Support "-r" option as well as "--release" as being documented.
    Thanks for reporting, Jens Kubieziel.

 -- Michael Prokop <mika@grml.org>  Wed, 26 Mar 2008 22:44:06 +0100

grml-debootstrap (0.16) unstable; urgency=low

  * Drop the second passwd call.

 -- Michael Prokop <mika@grml.org>  Wed, 19 Dec 2007 10:10:54 +0100

grml-debootstrap (0.15) unstable; urgency=low

  * Make sure the passwd command succeeds.
    Thanks, Wolfgang Karall! [Closes: issue363]

 -- Michael Prokop <mika@grml.org>  Sun, 16 Dec 2007 16:30:37 +0100

grml-debootstrap (0.14) unstable; urgency=low

  * Make sure variable ISO is unset variable if not used.
    Thanks for the bugreport, Darsha! [Closes: issue352]

 -- Michael Prokop <mika@grml.org>  Sun, 09 Dec 2007 20:16:15 +0100

grml-debootstrap (0.13) unstable; urgency=low

  * Fix manpage handling of xsltproc.

 -- Michael Prokop <mika@grml.org>  Thu, 06 Dec 2007 23:47:09 +0100

grml-debootstrap (0.12) unstable; urgency=low

  * Fixed some typos in the manpage.
    Thanks for the patch, Alexander 'Stone' Steinb√∂ck!

 -- Michael Prokop <mika@grml.org>  Wed, 24 Oct 2007 10:16:03 +0200

grml-debootstrap (0.11) unstable; urgency=low

  * Better inform user about already executed stages.
    [Closes: issue299]

 -- Michael Prokop <mika@grml.org>  Sat,  6 Oct 2007 18:03:16 +0200

grml-debootstrap (0.10) unstable; urgency=low

  * Add console-common to /etc/debootstrap/packages. Thanks for
    the feature request, Thorsten Strusch!
  * Support option -i/--iso: now it's possible to install packages
    from a normal Debian ISO. Thanks for the idea and the basic
    instructions to Thorsten Strusch!
    http://www.thorstenstrusch.de/software/debian-linux/

 -- Michael Prokop <mika@grml.org>  Mon, 04 Jun 2007 10:13:32 +0200

grml-debootstrap (0.9) unstable; urgency=low

  [ Alexander Wirt ]
  * Add support for EXTRAPACKAGES that can be dropped in
    /etc/debootstrap/extrapackages
  * Add boot_append option to manpage
  * Manpage reformatted

  [ Michael Prokop ]
  * Support grml-repository and installation of grml-kernel
    via GRMLREPOS and GRMLPACKAGES.
  * Use stage logic inside chroot-script as well.
  * Activate zsh completion.
  * Rewrote interfaces() code for handling of
    /etc/network/interfaces. Thanks for the pointer, formorer.
  * Make sure stopping a service inside chroot-script does not
    fail chroot-script itself.

 -- Michael Prokop <mika@grml.org>  Mon, 23 Apr 2007 00:23:19 +0200

grml-debootstrap (0.8) unstable; urgency=low

  * Add BOOT_APPEND option for kernel appendline 

 -- Alexander Wirt <formorer@grml.org>  Sat, 21 Apr 2007 11:19:06 +0200

grml-debootstrap (0.7) unstable; urgency=low

  * Support setting some variables via cmdline.
  * Support full automatic installation via debian2hd.
  * Change logic of function execution and improved error handling
    in some functions.
  * Use aptitude instead of apt-get in chroot-script, but
    only if it's available.
  * Use DEBIAN_FRONTEND='noninteractive' so we avoid unnecessary
    questions when installing. (Thanks, formorer!)
  * Added additional check to grub code for running sed on
    /boot/grub/menu.lst.
  * Updated TODO file.
  * Use asciidoc for manpage generation.
  * Added basic zsh-completion (thanks, ft!), but do not install it yet.
    We have to adjust $fpath in grml-etc-core first.

 -- Michael Prokop <mika@grml.org>  Fri, 13 Apr 2007 17:57:29 +0200

grml-debootstrap (0.6) unstable; urgency=low

  * Support Debian release with codename 'lenny'. Depend on
    debootstrap/cdebootstrap versions supporting lenny therefore.
  * Split all the code into separate functions.
  * Export LANG=C and LC_ALL=C as we don't have the locales inside
    the chroot when running grml-debootstrap. (Just a cosmetic
    change as there aren't any errors but warning messages from
    dpkg.)
  * Always assume architecture of the running system (overwriting
    via $ARCH is still supported of course).
  * Write variables from grml-debootstrap to /etc/debootstrap/variables
    and provide it to chroot-script.
  * Support stages. [Closes: issue151]

 -- Michael Prokop <mika@grml.org>  Mon,  9 Apr 2007 14:35:21 +0200

grml-debootstrap (0.5) unstable; urgency=low

  * Changed Architecture from any to all.

 -- Michael Prokop <mika@grml.org>  Sat, 24 Mar 2007 16:58:53 +0100

grml-debootstrap (0.4) unstable; urgency=low

  * Support installation into directory.

 -- Michael Prokop <mika@grml.org>  Fri, 17 Nov 2006 23:00:38 +0100

grml-debootstrap (0.3) unstable; urgency=low

  * Initial support for $ARCH.
  * Added function for clean exit (using trap).

 -- Michael Prokop <mika@grml.org>  Fri, 10 Nov 2006 00:51:09 +0100

grml-debootstrap (0.2) unstable; urgency=low

  * Support Sarge and Sid as "$RELEASE"s as well.
  * Added 'debootstrap | cdebootstrap' and grml-etc-core to
    depends.
  * Added support for:
    - cdebootstrap [broken for sarge as $RELEASE, see #390510]
    - setting hostname via /etc/hostname
    - /etc/kernel-img.conf
    - support setting locales through /etc/debootstrap/locale.gen
  * Added ssh, mdadm and lvm2 to default package list.
  * Rewrote kernel package version handling (removed from package
    list to be able to support sarge as well).

 -- Michael Prokop <mika@grml.org>  Fri,  3 Nov 2006 19:05:19 +0100

grml-debootstrap (0.1) unstable; urgency=low

  * Initial release.

 -- Michael Prokop <mika@grml.org>  Fri,  3 Nov 2006 01:10:52 +0100

